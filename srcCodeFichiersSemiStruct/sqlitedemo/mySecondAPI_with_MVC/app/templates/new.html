<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Gestion Étudiants</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { display: flex; gap: 50px; }
        form { width: 300px; }
        table { border-collapse: collapse; width: 500px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h2>Gestion des Étudiants - ITS2</h2>
    <div class="container">
        <!-- FORMULAIRE AJOUT ETUDIANT -->
        <form action="/new" method="POST">
            <h3>Ajouter un étudiant</h3>
            <label>Nom</label><br>
            <input type="text" name="n" required><br><br>

            <label>Adresse</label><br>
            <textarea name="add" required></textarea><br><br>

            <label>PINCODE</label><br>
            <input type="text" name="pin" required><br><br>

            <!-- TOKEN CACHÉ -->
            <input type="hidden" name="token" value="{{ token }}">

            <input type="submit" value="Ajouter">
        </form>

        <!-- TABLEAU ÉTUDIANTS -->
        <div>
            <h3>Liste des étudiants</h3>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nom</th>
                        <th>Adresse</th>
                        <th>PINCODE</th>
                    </tr>
                </thead>
                <tbody>
                    {% for e in etudiants %}
                    <tr>
                        <td>{{ e.id }}</td>
                        <td>{{ e.nom }}</td>
                        <td>{{ e.adresse }}</td>
                        <td>{{ e.pin }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
